body {
    line-height: 1.5;
    font-size: clamp(1rem, 0.95rem + 0.25vw, 1.125rem); /* 16px â†’ 18px fluid */
    padding: 0 10px;
    margin: 0;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
}

/* Site header / navbar - understated, browser-default aesthetic */
.site-header {
    border-bottom: 1px solid #e0e0e0;
}

.site-header.wrap {
    padding-top: 1rem;
    padding-bottom: 0.75rem;
}

.site-nav {
    display: flex !important;
    align-items: baseline;
    justify-content: space-between;
    flex-wrap: wrap;
    gap: 0.75rem 1.5rem;
    width: 100%;
    box-sizing: border-box;
}

.site-name {
    font-weight: 600;
    text-decoration: none;
    color: inherit;
    width: auto;
}

.site-name:hover {
    text-decoration: underline;
}

.nav-links {
    display: flex !important;
    flex-wrap: wrap;
    gap: 0.25rem 1rem;
    list-style: none;
    margin: 0;
    padding: 0;
    font-size: 0.95rem;
    width: auto;
}

.nav-links li {
    margin: 0;
}

.nav-links a {
    text-decoration: none;
    color: inherit;
}

.nav-links a:hover {
    text-decoration: underline;
}

/* Post header: tighten title and date */
.post-article header h1 {
    margin-bottom: 0.25rem;
}

.post-article header .meta {
    display: block;
    font-size: 0.85rem;
    font-style: italic;
    color: #6b6b6b;
}

h1 {
    font-size: 1.2em;
}

h2 {
    font-size: 1.1em;
}

/* Main content wrapper for text */
#maincontent {
    max-width: 42em;
    margin: 15px auto;
}

/* Also support the .wrap class used in templates */
.wrap {
    max-width: 52em;
    width: 100%;
    margin: 0 auto;
    padding: 1.25rem 1rem;
    box-sizing: border-box;
}

/* Make the page a column flex container so the footer can stick to the bottom. */
.page {
    display: flex;
    flex-direction: column;
    align-items: stretch;
    min-height: 100vh;
}

/* Main content fills available vertical space */
main.wrap {
    flex: 1 0 auto;
}

/* All wrap children should be block and left-aligned */
.wrap > * {
    display: block;
    text-align: left;
    width: 100%;
}

/* Make individual posts layout as column flex containers so parts below
   the share-links can be pushed to the bottom for improved readability. */
.post-article {
    display: flex;
    flex-direction: column;
    /* allow the article to take available vertical space; adjust if you want taller posts */
    min-height: 60vh;
}

/* The top portion (title, content, share-links) should flow naturally */
.post-article .post-top {
    flex: 0 0 auto;
}

/* The bottom block (hr, navigation, etc.) should be pushed to the end of the article */
.post-article .post-bottom {
    margin-top: auto;
}

/* Default images (constrained to container width) */
img {
    max-width: 100%;
    height: auto;
    display: block;
    margin: auto;
    box-sizing: border-box;
}

/* Figure with caption styling produced by the image render hook.
   The caption uses the image alt/text (or title) in italic. */
.image-figure {
    margin: 1.25rem 0;
    text-align: center;
}

.image-figure img {
    display: block;
    margin: 0 auto 0.5rem auto;
    max-width: 100%;
    height: auto;
}

.image-caption {
    font-size: 0.94rem;
    color: #666;
    font-style: italic;
    margin-top: 0.25rem;
}

/* Allow media (images, video, figure) inside the main content to break out
   wider than the text flow. They will be up to 52em, centered, and constrained
   by the viewport width when necessary. */
.wrap img,
.wrap video,
.wrap figure,
.wrap iframe {
    /* allow a wider maximum for media while ensuring they never exceed their container */
    max-width: min(52em, 100%);
    /* make media responsive: fill available width of the wrap but never overflow viewport */
    width: 100%;
    display: block;
    margin-top: 20px;
    margin-bottom: 20px;
    /* center media within the wrap */
    margin-left: auto;
    margin-right: auto;
    box-sizing: border-box;
}

.wrap iframe {
    aspect-ratio: 16 / 9;
    height: auto;
    border: 0;
}

/* If the viewport is narrower than the breakout amount, ensure media are fully responsive */
@media (max-width: 52em) {
    .wrap img,
    .wrap video,
    .wrap figure,
    .wrap iframe {
        width: 100%;
        margin-left: auto;
        margin-right: auto;
        box-sizing: border-box;
    }
}

/* Post navigation: space previous and next links to opposite sides */
.post-nav {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 1.5rem;
    margin-top: 2rem;
    flex-wrap: wrap;
    padding: 0.25rem 0;
}

/* Ensure links look consistent */
.post-nav a {
    color: inherit;
    text-decoration: none;
}

/* Simple share links styling */
.share-links {
    margin-top: 1.5rem;
    margin-bottom: 2rem;
    font-size: 0.95rem;
    color: inherit;
    line-height: 1.3;
}
.share-links a {
    color: inherit;
    text-decoration: none;
    margin-right: 0.6rem;
}
.share-links a:hover {
    text-decoration: underline;
}

.external-link-note {
    font-size: 0.85em;
    color: #6b6b6b;
    font-style: italic;
}

/* If only one link is present, keep it aligned to the left */
.post-nav:only-child,
.post-nav:empty {
    justify-content: flex-start;
}

/* Footer layout: stretched left/right like navbar */
.site-footer {
    border-top: 1px solid #e0e0e0;
}

.site-footer.wrap {
    padding-top: 1rem;
    padding-bottom: 1rem;
}

.footer-content {
    display: flex !important;
    align-items: baseline;
    justify-content: space-between;
    flex-wrap: wrap;
    gap: 0.5rem 1.5rem;
    width: 100%;
    box-sizing: border-box;
    font-size: 0.95rem;
    color: #6b6b6b;
}

.footer-left,
.footer-right {
    width: auto;
}

.home-writing,
.home-lists {
    text-align: left;
    margin-top: 2rem;
}

.home-writing ul,
.home-lists ul {
    list-style: none;
    padding-left: 0;
    margin: 1rem 0 0 0;
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
}

.home-writing li,
.home-lists li {
    display: block;
    margin: 0.55rem 0;
    width: 100%;
}

.list-article header h1 {
    margin-bottom: 0.25rem;
}

.list-article header .meta {
    display: block;
    font-size: 0.85rem;
    font-style: italic;
    color: #6b6b6b;
    margin-bottom: 1rem;
}

.list-article .summary {
    margin-top: 0.5rem;
    margin-bottom: 1rem;
}

.list-article .list-body {
    text-align: left;
}

.list-article .list-body ul,
.list-article .list-body ol {
    list-style: none;
    padding-left: 0;
    margin: 1rem 0;
}

.list-article .list-body li {
    display: block;
    margin: 0.5rem 0;
    padding-left: 0;
}

.list-article .list-body li input[type="checkbox"] {
    margin-right: 0.5rem;
    vertical-align: middle;
}

/* Archive layout: match home-writing exactly */
.archive {
    text-align: left;
    margin-top: 0;
}

.archive-year {
    display: block;
    width: 100%;
    margin-top: 1.5rem;
    margin-bottom: 0.5rem;
    font-weight: 600;
    text-align: left;
}

.archive-year-list {
    list-style: none;
    padding-left: 0;
    margin: 0;
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
}

.archive-year-list li {
    display: block;
    margin: 0.5rem 0;
    width: 100%;
}

/* Small, muted copyright line at the very bottom */
.site-copyright {
    font-size: 0.9rem;
    color: #6b6b6b;
    text-align: center;
    margin-top: 1.25rem;
    margin-bottom: 1rem;
}

/* Dark mode: follow user's OS/browser preference */
@media (prefers-color-scheme: dark) {
    /* Page background and default text color */
    body {
        background-color: #121212;
        color: #fafafa;
    }

    /* Links: a slightly muted blue for contrast */
    a {
        color: #90caf9;
    }
    a:hover,
    a:focus {
        color: #bbdefb;
        text-decoration: underline;
    }

    /* Keep footer readable but subtle */
    .site-footer {
        border-top-color: rgba(255, 255, 255, 0.1);
    }

    .footer-content {
        color: #999999;
    }

    .post-article header .meta,
    .list-article header .meta {
        color: #999999;
    }

    /* Post nav links */
    .post-nav a {
        color: #fafafa;
    }

    .external-link-note {
        color: #bcbcbc;
    }

    /* Archive year headings */
    .archive-year {
        color: #ffffff;
    }

    /* Muted copyright in dark mode */
    .site-copyright {
        color: #999999;
    }

    /* HR or subtle separators */
    hr {
        border-color: rgba(255, 255, 255, 0.06);
    }

    /* Navbar border in dark mode */
    .site-header {
        border-bottom-color: rgba(255, 255, 255, 0.1);
    }

    /* Ensure media (images/video) don't get unwanted backgrounds */
    .wrap img,
    .wrap video,
    .wrap figure {
        background: transparent;
    }
}
